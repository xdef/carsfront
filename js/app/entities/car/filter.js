var extend=function(t,e){function r(){this.constructor=t}for(var n in e)hasProp.call(e,n)&&(t[n]=e[n]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},hasProp={}.hasOwnProperty,slice=[].slice;define(["app/app","base.entities"],function(t,e){return t.module("Entities",function(t,e,r,n,i,o){var s;return t.Filter=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return extend(e,t),e.prototype.defaults={sort_by:"createdAt",direction:-1},e.prototype.changeDirection=function(t){var e;if(o.isObject(this.get("sort")))return e=this.get("sort"),e.direction=t,this.set({sort:e})&&this.trigger("change:sort",this)},e.prototype.toParams=function(){var t,e,r;return e={},(r=this.get("sort_by"))&&(t=this.get("direction"))&&o.extend(e,{sort:{field:r,direction:t}}),this.get("query")&&o.extend(e,{query:this.get("query")}),this.get("filter")&&o.extend(e,{filter:this.get("filter")}),e},e}(t.Model),s={getFilter:function(e){return null==e&&(e={}),new t.Filter(e)}},e.reqres.setHandler("filter:entity",function(){var t;return t=1<=arguments.length?slice.call(arguments,0):[],s.getFilter.apply(s,t)})})});