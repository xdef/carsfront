define(["backbone","backbone.stickit","jquery.file.upload"],function(){return Backbone.Stickit.addHandler({selector:".uploader",initialize:function(e,t,r){var n,o;return n=_.defaults({},r.defaultOptions,{url:t.url(),type:"POST",dataType:"json",progressInterval:100,bitrateInterval:100,dropZone:e,formData:{}}),o=e.fileupload(_.extend(n,r.uploadOptions)),o.bind("fileuploaddone",function(e,r){return t.trigger("upload:done",r)}),o.bind("fileuploadprogressall",function(e,r){var n;return n=parseInt(r.loaded/r.total*100,10),t.trigger("upload:progress",n)}),o.bind("fileuploadstart",function(e){return function(e,r){return t.trigger("upload:start",r)}}(this)),o.bind("fileuploadstop",function(e){return function(e,r){return t.trigger("upload:stop",r)}}(this)),o.bind("fileuploadfail",function(e,r){return t.trigger("upload:error",r)})},updateModel:!1,updateView:!1})});